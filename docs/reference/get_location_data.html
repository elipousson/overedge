<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Returns data for a selected location or a list of locations (for
map_location_data). If data is a character string, the parameter is passed
to read_sf_url, read_sf_path, or read_sf_pkg. This function uses
location_filter() to filter (using sf::st_intersects), crop, or trim data
to the provided location. location can also be an an address, county GeoID,
state name, abbreviation, or GeoID."><!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light"><script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/5/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Get data for a location — get_location_data • overedge</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get data for a location — get_location_data"><meta property="og:description" content="Returns data for a selected location or a list of locations (for
map_location_data). If data is a character string, the parameter is passed
to read_sf_url, read_sf_path, or read_sf_pkg. This function uses
location_filter() to filter (using sf::st_intersects), crop, or trim data
to the provided location. location can also be an an address, county GeoID,
state name, abbreviation, or GeoID."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.css" media="(prefers-color-scheme: dark)"><!-- preferably CSS --><link rel="stylesheet" href="../preferably.css"><link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">overedge</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/get_location.html">Get locations and location data</a>
    <a class="dropdown-item" href="../articles/get_remote_data.html">Getting remote data and photos using API functions</a>
    <a class="dropdown-item" href="../articles/ggsave_ext.html">Map layout and themes with ggplot2 utility functions</a>
    <a class="dropdown-item" href="../articles/working-sf-bbox.html">Working with simple feature and bounding box objects</a>
    <a class="dropdown-item" href="../articles/working-sf-lists.html">Working with lists of simple feature objects</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/elipousson/overedge/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>

        
        
        
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Get data for a location</h1>
      <small class="dont-index">Source: <a href="https://github.com/elipousson/overedge/blob/HEAD/R/get_location_data.R" class="external-link"><code>R/get_location_data.R</code></a></small>
      <div class="d-none name"><code>get_location_data.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Returns data for a selected location or a list of locations (for
map_location_data). If data is a character string, the parameter is passed
to <a href="read_sf_ext.html">read_sf_url</a>, <a href="read_sf_ext.html">read_sf_path</a>, or <a href="read_sf_ext.html">read_sf_pkg</a>. This function uses
<code><a href="location_filter.html">location_filter()</a></code> to filter (using <a href="https://r-spatial.github.io/sf/reference/geos_binary_pred.html" class="external-link">sf::st_intersects</a>), crop, or trim data
to the provided location. location can also be an an address, county GeoID,
state name, abbreviation, or GeoID.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">get_location_data</span><span class="op">(</span>
  location <span class="op">=</span> <span class="cn">NULL</span>,
  dist <span class="op">=</span> <span class="cn">NULL</span>,
  diag_ratio <span class="op">=</span> <span class="cn">NULL</span>,
  unit <span class="op">=</span> <span class="cn">NULL</span>,
  asp <span class="op">=</span> <span class="cn">NULL</span>,
  data <span class="op">=</span> <span class="cn">NULL</span>,
  package <span class="op">=</span> <span class="cn">NULL</span>,
  filetype <span class="op">=</span> <span class="st">"gpkg"</span>,
  fn <span class="op">=</span> <span class="cn">NULL</span>,
  crop <span class="op">=</span> <span class="cn">TRUE</span>,
  trim <span class="op">=</span> <span class="cn">FALSE</span>,
  from_crs <span class="op">=</span> <span class="cn">NULL</span>,
  crs <span class="op">=</span> <span class="cn">NULL</span>,
  class <span class="op">=</span> <span class="st">"sf"</span>,
  label <span class="op">=</span> <span class="cn">NULL</span>,
  index <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span>

<span class="fu">map_location_data</span><span class="op">(</span>
  location <span class="op">=</span> <span class="cn">NULL</span>,
  dist <span class="op">=</span> <span class="cn">NULL</span>,
  diag_ratio <span class="op">=</span> <span class="cn">NULL</span>,
  unit <span class="op">=</span> <span class="cn">NULL</span>,
  asp <span class="op">=</span> <span class="cn">NULL</span>,
  data <span class="op">=</span> <span class="cn">NULL</span>,
  package <span class="op">=</span> <span class="cn">NULL</span>,
  filetype <span class="op">=</span> <span class="st">"gpkg"</span>,
  fn <span class="op">=</span> <span class="cn">NULL</span>,
  crop <span class="op">=</span> <span class="cn">TRUE</span>,
  trim <span class="op">=</span> <span class="cn">FALSE</span>,
  from_crs <span class="op">=</span> <span class="cn">NULL</span>,
  crs <span class="op">=</span> <span class="cn">NULL</span>,
  class <span class="op">=</span> <span class="st">"list"</span>,
  label <span class="op">=</span> <span class="cn">NULL</span>,
  load <span class="op">=</span> <span class="cn">FALSE</span>,
  index <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>location</dt>
<dd><p>sf object. If multiple areas are provided, they are unioned
into a single sf object using <a href="https://r-spatial.github.io/sf/reference/geos_combine.html" class="external-link">sf::st_union</a></p></dd>
<dt>dist</dt>
<dd><p>buffer distance in units. Optional.</p></dd>
<dt>diag_ratio</dt>
<dd><p>ratio of diagonal distance of area's bounding box used as
buffer distance. e.g. if the diagonal distance is 3000 meters and the
"diag_ratio = 0.1"  a 300 meter will be used. Ignored when <code>dist</code> is
provided.</p></dd>
<dt>unit</dt>
<dd><p>Units for buffer. Supported options include "meter", "foot",
"kilometer", and "mile", "nautical mile" Common abbreviations (e.g. "km"
instead of "kilometer") are also supported. Distance in units is converted
to units matching GDAL units for x; defaults to "meter"</p></dd>
<dt>asp</dt>
<dd><p>Aspect ratio of width to height as a numeric value (e.g. 0.33) or
character (e.g. "1:3"). If numeric, <code><a href="get_asp.html">get_asp()</a></code> returns the same value
without modification.</p></dd>
<dt>data</dt>
<dd><p>Character string (e.g. url, file path, or name of data from
package), a <code>sf</code>, <code>sfc</code>, or <code>bbox</code>  object including data in area.</p></dd>
<dt>package</dt>
<dd><p>Name of the package to search for data.</p></dd>
<dt>filetype</dt>
<dd><p>File type to use if passing parameters to <a href="read_sf_ext.html">read_sf_download</a>
or <a href="read_sf_ext.html">read_sf_pkg</a> (required for extdata and cached data).</p></dd>
<dt>fn</dt>
<dd><p>Function to apply to data after filtering by location but before
returning from function.</p></dd>
<dt>crop</dt>
<dd><p>If <code>TRUE</code>, data is cropped to location or bounding box
<a href="https://r-spatial.github.io/sf/reference/st_crop.html" class="external-link">sf::st_crop</a> adjusted by the <code>dist</code>, <code>diag_ratio</code>, and <code>asp</code> parameters
provided. Default TRUE.</p></dd>
<dt>trim</dt>
<dd><p>If <code>TRUE</code>, data is trimmed to area with <a href="https://r-spatial.github.io/sf/reference/geos_binary_ops.html" class="external-link">sf::st_intersection</a>.
This option ignores any <code>dist</code>, <code>diag_ratio</code>, or <code>asp</code> parameters. Default
<code>FALSE</code>.</p></dd>
<dt>from_crs</dt>
<dd><p>Coordinate reference system of the data (used to convert the
CRS of the bounding box used in reading/filtering data).</p></dd>
<dt>crs</dt>
<dd><p>Coordinate reference system to return</p></dd>
<dt>class</dt>
<dd><p>Class of object to return.</p></dd>
<dt>label</dt>
<dd><p>label is optionally used by map_location_data to name the data
objects in the list returned by the function.</p></dd>
<dt>index</dt>
<dd><p>A list of possible location, data, and (optionally) package
values. List must be named and include a value named package and package
must be <code>NULL</code>, to set package based on index. If list is not <code>NULL</code> and
location and/or data as character or numeric values, the location and data
are assumed to be index values for the index list. The index parameter
supports nested lists created by <a href="make_location_data_list.html">make_location_data_list</a> (using only the
default key names of "location" and "data"). This feature has not be fully
tested and may result in errors or unexpected results.</p></dd>
<dt>...</dt>
<dd><p>additional parameters passed to <a href="read_sf_ext.html">read_sf_path</a>, <a href="read_sf_ext.html">read_sf_url</a>, or
<a href="read_sf_ext.html">read_sf_pkg</a> and <a href="location_filter.html">location_filter</a></p></dd>
<dt>load</dt>
<dd><p>If <code>TRUE</code> and class is "list", load data to local environment;
defaults <code>FALSE</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Working with sf lists for data and locations:</p>
<p>map_data_location makes it easier to work with <code>sf</code> lists. It supports data
as a character vector, data as an <code>sf</code> list when location is a single object,
location as a character vector or <code>sf</code> list (including lists of <code>bbox</code> or <code>sfc</code>
objects), or when both data and location are lists (such as a list created
by <a href="make_location_data_list.html">make_location_data_list</a>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu">map_location_data</span><span class="op">(</span></span>
<span class="r-in">  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"streets"</span>, <span class="st">"mta_bus_lines"</span><span class="op">)</span>,</span>
<span class="r-in">  package <span class="op">=</span> <span class="st">"mapbaltimore"</span>,</span>
<span class="r-in">  location <span class="op">=</span> <span class="fu"><a href="get_location.html">get_location</a></span><span class="op">(</span></span>
<span class="r-in">    type <span class="op">=</span> <span class="st">"council_districts"</span>,</span>
<span class="r-in">    id <span class="op">=</span> <span class="fl">1</span>,</span>
<span class="r-in">    package <span class="op">=</span> <span class="st">"mapbaltimore"</span><span class="op">)</span>,</span>
<span class="r-in">  load <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: R_GlobalEnv&gt;</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="copyright">
  <p></p><p>Developed by Eli Pousson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

    </footer></div>

  

  

  </body></html>

